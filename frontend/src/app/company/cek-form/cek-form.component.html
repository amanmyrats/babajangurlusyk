<p-panel>
    <form [formGroup]="cekForm" class="generic-form" (ngSubmit)="submitForm()">
        <div class="p-grid p-fluid">
            <input id="id" type="text" formControlName="id" hidden>


            <div class="horizontal-row">
                <div class="p-col-12 horizontal-row-child">
                    <span class="p-float-label">
                        <input id="no" type="text" formControlName="no" pInputText>
                        <label for="no">Çek NO</label>
                    </span>
                </div>
            </div>
        </div>
        
        <div class="horizontal-row">

            <div class="p-col-12 horizontal-row-child">
                <p-floatLabel>
                    <p-dropdown [options]="" formControlName="partner_type" optionLabel="label"
                        optionValue="value" appendTo="body">
                        <ng-template let-partnerType pTemplate="item">
                            <div class="flex align-items-center gap-2">
                                <div>{{ partnerType.label }}</div>
                            </div>
                        </ng-template>
                    </p-dropdown>
                    <label for="reservationDate">Müşderi/Telekeçi?</label>
                </p-floatLabel>
            </div>
        </div>
        <div class="horizontal-row">

            <div class="p-col-12 horizontal-row-child" *ngIf="cekForm.get('partner_type')?.value == 'CLIENT'">
                <p-floatLabel>
                    <p-dropdown [options]="client" formControlName="client" optionLabel="name" optionValue="id"
                        [filter]="true" filterBy="first_name" [showClear]="true" appendTo="body">
                        <ng-template let-client pTemplate="item">
                            <div class="flex align-items-center gap-2">
                                <div>{{ client.first_name }} {{ client.last_name }}</div>
                            </div>
                        </ng-template>
                    </p-dropdown>
                    <label for="client">Müşderi</label>
                </p-floatLabel>
            </div>
        </div>
        <div class="horizontal-row">

            <div class="p-col-12 horizontal-row-child" *ngIf="cekForm.get('partner_type')?.value == 'SUPPLIER'">
                <p-floatLabel>
                    <p-dropdown [options]="suppliers" formControlName="supplier" optionLabel="name" optionValue="id"
                        [filter]="true" filterBy="first_name" [showClear]="true" appendTo="body">
                        <ng-template let-supplier pTemplate="item">
                            <div class="flex align-items-center gap-2">
                                <div>{{ supplier.first_name }} {{ supplier.first_name }}</div>
                            </div>
                        </ng-template>
                    </p-dropdown>
                    <label for="supplier">Telekeçi</label>
                </p-floatLabel>
            </div>
        </div>

        <div class="horizontal-row">

            <div class="p-col-12 horizontal-row-child">
                <p-floatLabel>
                    <p-dropdown [options]="cekTypes" formControlName="cek_type" optionLabel="label"
                        optionValue="value" appendTo="body">
                        <ng-template let-cekType pTemplate="item">
                            <div class="flex align-items-center gap-2">
                                <div>{{ cekType.label }}</div>
                            </div>
                        </ng-template>
                    </p-dropdown>
                    <label for="cekType">Satyn Alyş/Satyş?</label>
                </p-floatLabel>
            </div>
        </div>

        <div class="horizontal-row">
            <div class="p-col-12 horizontal-row-child">
                <p-floatLabel>
                    <p-selectButton [options]="isNesyeOptions" formControlName="is_nesye" optionLabel="label"
                        optionValue="value" />
                </p-floatLabel>
            </div>
        </div>

        <div class="acente-row horizontal-row amount-currency">
            <div class="horizontal-row-child">
                <p-floatLabel>
                    <p-inputNumber formControlName="amount" inputId="minmaxfraction" mode="decimal"
                        [minFractionDigits]="0" [maxFractionDigits]="2" />
                    <label for="number-input">Amount</label>
                </p-floatLabel>
            </div>

            <div class="p-col-12">
                <span class="p-float-label">
                    <textarea rows="5" cols="30" pInputTextarea formControlName="alan_zatlary">
                    </textarea>
                    <label for="alan_zatlary">Alynan Harytlar</label>
                </span>
            </div>


            <div class="p-col-12">
                <span class="p-float-label">
                    <p-dropdown 
                        [options]="ussalar"
                        formControlName="referenced_by"
                        optionLabel="first_name"
                        optionValue="id"
                        [filter]="true"
                        id="referenced_by"
                        filterBy="code" 
                        [showClear]="true"
                        placeholder="Ussa Saýlaň"
                        appendTo="body">
                            <ng-template let-referenced_by pTemplate="item">
                                <div class="flex align-items-center gap-2">
                                    <div>{{ referenced_by.first_name }} {{ referenced_by.last_name }}</div>
                                </div>
                            </ng-template>
                    </p-dropdown>

                    <label for="referenced_by">Getiren Ussa</label>
                </span>
            </div>

            <div class="horizontal-row">
                <div class="p-col-12 horizontal-row-child">
                <span class="p-float-label">
                    <textarea rows="5" cols="30" pInputTextarea formControlName="note">
                    </textarea>
                    <label for="note">Bellik</label>
                </span>
            </div>
        </div>

            <div class="horizontal-row">
                <div class="p-col-12 horizontal-row-child">
                    <p-floatLabel>
                        <p-calendar formControlName="date" [showIcon]="true" inputId="icondisplay"
                            dateFormat="yy-mm-dd" dataType="string" />
                        <label for="date">Senesi</label>
                    </p-floatLabel>
                </div>

            </div>
            <div class="horizontal-row">
                <div class="p-col-6">
                    <button type="submit" pButton label="Ýatda Sakla" class="p-button-success"></button>
                </div>
            </div>
        </div>
    </form>
    <p-messages></p-messages>
</p-panel>